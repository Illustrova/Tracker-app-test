(this["webpackJsonptracker-app"]=this["webpackJsonptracker-app"]||[]).push([[0],{14:function(e,t,r){},20:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),n=r(4),s=r.n(n),l=(r(14),r(0));function i(){return Object(l.jsxs)("header",{className:"flex items-center justify-between p-8",children:[Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsx)("span",{role:"img","aria-label":"Clock",className:"text-4xl",children:"\ud83d\udd51"}),Object(l.jsx)("p",{className:"ml-4 font-mono text-2xl font-bold",children:"Time Tracker App"})]}),Object(l.jsx)("a",{className:"text-xl underline hover:no-underline",href:"../",children:"Back to other implementations"})]})}var j=r(2),o=r(3),b=r(5),x=Object(b.b)({name:"tracker",initialState:{isTracking:!1,data:[],currentSession:null,totalTime:0},reducers:{toggle:function(e){e.isTracking=!e.isTracking;var t=e.isTracking,r=e.currentSession;if(t)e.currentSession={start:Date.now()};else{var c=null===r||void 0===r?void 0:r.start;if(c){var a=Date.now(),n=1e3*Math.round((a-c)/1e3);e.data.push(Object(o.a)(Object(o.a)({},r),{},{end:a,duration:n})),e.currentSession=null,e.totalTime+=n}}}}}),d=x.actions.toggle,u=x.reducer,O={start:"bg-yellow-500 hover:bg-yellow-600",stop:"bg-red-500 hover:bg-red-600"},h=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.tracker.isTracking})),r=t?"stop":"start";return Object(l.jsx)("button",{className:"py-4 px-8  text-gray-100 font-bold text-xl "+O[r],onClick:function(){return e(d())},children:t?"Stop tracking":"Start tracking"})},m=r(9);function p(e,t){var r=Object(c.useRef)();Object(c.useEffect)((function(){r.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){r.current()}),t);return function(){return clearInterval(e)}}}),[t])}var f=function(e){return Math.floor(e/1e3%60).toString().padStart(2,"0")},g=function(e){return Math.floor(e/6e4%60).toString().padStart(2,"0")},y=function(e){return Math.floor(e/36e5).toString().padStart(2,"0")};function N(){var e=Object(j.c)((function(e){return e.tracker.isTracking})),t=Object(c.useState)(0),r=Object(m.a)(t,2),a=r[0],n=r[1],s=Object(c.useState)(null),i=Object(m.a)(s,2),o=i[0],b=i[1];return Object(c.useEffect)((function(){e?b(1e3):(b(null),n(0))}),[e]),p((function(){e&&n(a+1e3)}),o),Object(l.jsxs)("div",{className:"my-12 text-8xl",children:[Object(l.jsx)("span",{className:"px-2 py-4 text-blue-900 bg-gray-200",children:y(a)}),Object(l.jsx)("span",{className:"text-gray-200",children:":"}),Object(l.jsx)("span",{className:"px-2 py-4 text-blue-900 bg-gray-200",children:g(a)}),Object(l.jsx)("span",{className:"text-gray-200",children:":"}),Object(l.jsx)("span",{className:"px-2 py-4 text-blue-900 bg-gray-200",children:f(a)})]})}var v=function(e){var t=e.start,r=e.end,c=e.duration;return Object(l.jsxs)("tr",{className:"bg-white border-4 border-gray-200",children:[Object(l.jsx)("td",{className:"px-16 py-2",children:new Date(t).toLocaleString()}),Object(l.jsx)("td",{className:"px-16 py-2",children:new Date(r).toLocaleString()}),Object(l.jsxs)("td",{className:"px-16 py-2",children:[y(c),":",g(c),":",f(c)]})]})};function k(){var e=Object(j.c)((function(e){return e.tracker.data}));return Object(l.jsxs)("table",{className:"min-w-full table-auto",children:[Object(l.jsx)("thead",{className:"justify-between",children:Object(l.jsxs)("tr",{className:"bg-gray-800",children:[Object(l.jsx)("th",{className:"px-16 py-2",children:Object(l.jsx)("span",{className:"text-gray-200",children:"Started at"})}),Object(l.jsx)("th",{className:"px-16 py-2",children:Object(l.jsx)("span",{className:"text-gray-200",children:"Ended at"})}),Object(l.jsx)("th",{className:"px-16 py-2",children:Object(l.jsx)("span",{className:"text-gray-200",children:"Duration"})})]})}),Object(l.jsx)("tbody",{className:"h-4 text-gray-800 bg-gray-200",children:e?e.map((function(e){return Object(l.jsx)(v,Object(o.a)({},e),e.start)})):Object(l.jsx)("tr",{className:"text-gray-800 bg-white border-4 border-gray-200",children:Object(l.jsx)("td",{colSpan:"4",children:"No data tracked yet"})})})]})}function S(){var e=Object(j.c)((function(e){return e.tracker.totalTime}));return Object(l.jsxs)("div",{className:"mt-auto text-5xl text-center text-yellow-400",children:[Object(l.jsx)("span",{className:"pr-16",children:"Total time:"}),Object(l.jsxs)("span",{children:[" ",y(e),":",g(e),":",f(e)]})]})}var w=function(){return Object(l.jsxs)("div",{className:"w-full h-screen text-gray-100 bg-blue-900",children:[Object(l.jsx)(i,{}),Object(l.jsxs)("main",{className:"flex flex-col mx-4",children:[Object(l.jsxs)("div",{className:"mt-24 text-center",children:[Object(l.jsx)(N,{interval:0}),Object(l.jsx)(h,{children:"Start tracking"})]}),Object(l.jsx)("div",{className:"mt-16 mb-16 text-center",children:Object(l.jsx)(k,{})}),Object(l.jsx)(S,{})]})]})},T=Object(b.a)({reducer:{tracker:u}});s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(j.a,{store:T,children:Object(l.jsx)(w,{})})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.b752cf9f.chunk.js.map